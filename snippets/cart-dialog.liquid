<cart-dialog>
  <dialog 
    id="cart-dialog" 
    class="drawer drawer-right dialog" 
    data-cart-empty="{{ cart.empty? }}"
    aria-labelledby="cart-dialog-title">
    {% form 'cart', cart %}
      <div class="dialog-header">
        <h2 id="cart-dialog-title" class="dialog-title">
          {{ 'cart.title' | t }}
        </h2>
        <button type="button" class="btn-icon dialog-close" data-dialog-close>  
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x">
            <line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="dialog-body">
        {% if cart.empty? %}
          <div class="cart-empty-wrapper">
            {% if section.settings.cart_icon == 'cart' %}
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart">
                <circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
              </svg>
            {% else %}
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-bag">
                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>
              </svg>
            {% endif %}
            <p class="cart-empty-message">
              {{ 'cart.empty' | t }}
            </p>
            <button 
              type="button" 
              class="btn btn-secondary" 
              data-dialog-close>
              {{ 'cart.continue_shopping' | t }}
            </button>
          </div>
        {% else %}
          Cart items
        {% endif %}
      </div>
      <div class="dialog-footer">
        <button 
          type="submit" 
          name="checkout" 
          class="btn btn-full btn-with-icon fs-lg">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-lock">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
          </svg>
          {{ 'cart.checkout' | t }}
        </button>
      </div>
    {% endform %}
  </dialog>
</cart-dialog>
